# 운영체제 예시(Operating-System Examples)
지금까지 배운 스레드를 실제로 어떻게 적용하는가? Windows와 Linux에서의 구현 방법을 알아보자
***

## Windows
* Windows에서는 Windows API를 사용한다.
* 일대일 모델을 사용한다.
* 스레드의 구성요소는 다음과 같다.
    * 스레드의 ID(식별자)
    * 처리기의 상태를 나타내는 레지스터 집합
    * 사용자 모드에서 실행될 때 필요한 사용자 스택, 커널 모드에서 실행될 때 필요한 커널 스택
    * 런타임 라이브러리와 동적 라이브러리(DLL)등이 사용하는 개별 데이터 저장 영역
* 레지스터 집합, 스택, 개별 저장 영역들은 그 스레드의 문맥으로 불린다.
    * ETHREAD - 실행 스레드 블록(executive thread block)
    * KTHREAD - 커널 스레드 블록(kernel thread block)
    * TEB - 스레드 환경 블록(thread environment block)
* KTHREAD는 스레드의 스케줄링, 동기화 정보, 커널 스택, TEBdp에 대한 포인터를 가지고 있다.
* ETHREAD와 KTHREAD는 모두 커널 안에 존재한다.
* TEB는 사용자 영역에 존재한다.
* TEB는 스레드 식별자, 사용자 모드 스택, 스레드 로컬 저장소를 저장하기 위한 배열을 가지고 있다.

## Linux
* 리눅스는 사실상 프로세스와 스레드를 구별하지 않고 태스크라는 용어를 사용한다.
* 그저 fork처럼 clone이라는 시스템 콜을 사용한다.
* 두 시스템 콜의 차이점은 후자의 경우 자식과 공유할 자원을 지정할 수 있다.
* 공유하는 자원이 없는 경유 fork와 같다. 