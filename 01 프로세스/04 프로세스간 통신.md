# 프로세스간 통신(Interprocess Communication)
실행되는 프로세스들이 서로 정보를 공유하는 등의 관계일경우 어떻게 되는가? 대표적으로 공유 메모리와 메세지 전달을 사용해 이 문제를 해결한다.
***

## 프로세스간 통신(Interprocess Communication)
* 프로세스 협력을 허용하는 경우는 다양하다.
    * 정보 공유(Information sharing)
    * 계산 가속화(Computation speedup) 
    * 모듈성(Moudularity) : 모듈식의 시스템을 구성하기 위해 분리를 하는 경우
    * 편의성(Convenience) : 한 순간에 많은 task를 가질 경우 병렬로 해결하기 위해
* 프로세스간 통신에는 다양한 방법이 있다.
    * 공유 메모리(shared memory) : 특정 메모리 영역에 데이터를 읽고 씀 캐시 일관성 성능저하가 일어남
    * 메세지 전달(message passing) : 프로세스들 사이에 메세지 교환을 함 커널의 간섭이 있어서 느림
* 시스템 처리 코어의 수가 증가 할수록 메세지 전달이 선호된다.

## 공유 메모리 시스템(Shared Memory System)
* 보통 프로세스는 다른 프로세스의 메모리에 접근하지 못하나 공유 메모리 시스템에서는 이 제약이 해제된다.
* 생산자 프로세스는 정보를 생산하고 소비자 프로세스는 정보를 소비한다.
* 메모리 버퍼의 종류에는 무한 버퍼(unbounded buffer)와 유한 버퍼(bounded buffer)가 있다.

## 메세지 전달 시스템(Message-Passing Systems)
* 메세지 전달 시스템은 send와 receive연산을 가지고 있다.
* 프로세스가 서로 통신을 하고자 하면 통신 연결(communication link) 설정이 필요하다.
    * 직접 통신과 간접 통신
    * 동기식 통신과 비동기식 통신
    * 자동 버퍼링과 명시적 버퍼링

### 네이밍(Naming)
* 직접 통신 방법에서는 직접적으로 프로세스를 명시하고 메세지를 보낸다.
    * 통신을 원하는 프로세스 사이에 연결이 자동 구축되며 프로세스들은 통신을 위해 상대의 identity만 알면 된다.
    * 연결은 두 프로세스 사이에만 연관된다.
    * 각 쌍에는 단 하나의 연결이 존재한다.
* 만약 프로세스의 이름이 바뀌면 모든 메세지 함수의 인자를 바꿔야 한다.
* 간접 통신 방법에서는 메일박스(mailbox) 또는 포트(port)로 데이터를 주고받는다.
    * 한 쌍의 프로세스들 사이의 연결은 이들 프로세스가 공유 메일박스를 가질 때 구축된다.
    * 연결은 두 개 이상의 프로세스일 수 있다.
    * 통신하고 있는 각 프로세스들 사이에는 다수의 연결이 존재할 수 있고, 각 연결은 하나의 메일박스에 대응된다.
* 만약 세 프로세스가 하나의 메일박스를 공유한다면, 수신자는 누가될지 여러가지 기법이 있다.
    * 하나의 링크는 최대 두 개의 프로세스와 연관되도록 허용한다.
    * 한 순간에 최대로 하나의 프로세스가 receive 연산을 실행하도록 한다.
    * 어느 프로세스가 메세지를 수신할지 선택한다.
* 메일 박스는 프로세스 또는 운영체제에 소유될 수 있다.
    * 프로세스가 소유한 경우 프로세스 종료시 메일박스도 사라진다.
    * 운영체제가 소유한 경우 프로세스가 메일박스를 생성하거나 송수신, 삭제를 할 수 있도록 해야한다.

### 동기화(Synchronization)
* 메세지 전달은 블로킹(blocking, 동기식)과 논블로킹(non-blocking, 비동기식)방식이 있다.
    * blocking send : 송신 프로세스가 메세지 수신까지 멈춤
    * non-blocking send : 송신 프로세스가 메세지를 보내고 하던거 함
    * blocking receive : 수신 프로세스가 메세지를 이용가능할 때 까지 멈춤
    * non-blocking receive : 수신 프로세스가 유요한 메세지 또는 null을 받음
* 둘 다 blocking일 경우 rendezvous를 가지게 된다.

### 버퍼링(Buffering)
* 통신하는 프로세스들에 의해 교환되는 메세지는 큐에 들어가있다.
    * zero capacity : 큐를 사용하지 않는다. 송신 프로세스는 수신 프로세스가 수신을 할 때 까지 기다려야 한다.
    * bounded capacity : 유한한 길이의 큐를 가진다. 꽉차면 zero capacity와 같다.
    * unbounded capacity : 무한한 길이의 큐를 가진다.
* 아래의 두 경우를 자동 버퍼링이라 한다. 
