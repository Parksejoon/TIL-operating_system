# 03 프로세스 연산(Operation on Processes)
프로세스는 실제 OS 예를들어 Window나 UNIX에서 어떻게 생성될까? 다양한 운영체제들은 각각의 프로세스의 생성, 종료 기법을 제공한다.
***

## 프로세스 생성(Process Creation)
* 프로세스를 생성한 프로세스를 부모 프로세스라 하고 생성된 프로세스를 자식 프로세스라고 한다.
* 이런식으로 프로세스들이 트리를 구성한다.
* 프로세스 식별자(process id, pid)를 사용하여 프로세스를 구분한다.
* Linux에서는 init이라는 루트 부모 프로세스가 존재한다.
* 자식 프로세스가 부모 프로세스의 자원의 일부를 사용하도록 할 수도 있다.
* 프로세스가 새로운 프로세스를 생성할 때 프로세스를 실행시키는 데 두 가지 방법이 존재한다.
    * 부모와 자식이 병행하게 실행
    * 부모는 일부 또는 모든 자식이 실행을 종료할 때 까지 기다림
* 새로운 프로세스의 주소 공간은 두 가지 가능성이 존재한다.
    * 자식 프로세스는 부모 프로세스의 복사본
    * 자식 프로세스가 자신에게 적재될 새로운 프로그램을 가짐
* UNIX
    * fork 시스템 콜을 사용해 프로세스를 생성한다.
    * 부모의 주소 공간의 복사본으로 구성된다.
    * exec 시스템 콜을 사용해 자신의 메모리 공간을 새로운 프로그램으로 교체한다.
* Windows
    * CreateProcess 함수를 사용해 프로세스를 생성한다.
    * 자식이 생성될 때 주소 공간에 명시된 프로그램을 올린다.
    * 메모리 할당을 위해 ZeroMemory 함수를 사용한다.
* 부모 프로세스는 wait 시스템콜을 사용해 자식 프로세스가 끝나기를 기다린다.


## 프로세스 종료(Process Termination)
* 프로세스는 exit 시스템 콜을 사용해 종료를 한다.
* 부모 프로세스의 wait 시스템 콜을 통해 물리 메모리와 가상 메모리, 열린 파일, 입출력 버퍼 등을 운영체제로 반납한다.
* 외부에서는 부모 프로세스만이 자식 프로세스를 종료시킬 수 있다.
    * 자식이 자원을 초과해서 사용할 때
    * 자식에게 할당된 task가 더 이상 필요 없을 때
    * 부모가 종료될 때 운영체제가 자식 또한 종료시키도록 구성되있는 경우
* 마지막 경우를 연쇄 종료(cascading termination)이라 한다.
* Linux나 UNIX에선 exit 시스템 콜에 종료 상태를 나타내는 인자를 사용한다. (main함수의 return같은 개념)
* wait 시스템 콜에 어떤 프로세스의 종료를 기다릴지 인자를 사용한다.
* 종료 되었으나 wait을 호출하지 않은 프로세스를 좀비 프로세스라 한다.
* 좀비 프로세스의 부모가 wait을 호출하지 않은채로 종료를 하면 고아 프로세스라 한다.